<!-- CELÃ HTML KÃ“D VÄŒETNÄš DONATE TLAÄŒÃTKA -->
 
 <!DOCTYPE html>
 <html lang="cs">
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
   <title>AstronomickÃ¡ PÅ™edpovÄ›Ä</title>
   <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
   <style>
     body {
       font-family: sans-serif;
       background: #111;
       color: #eee;
       padding: 20px;
     }
 
     h1 {
       font-size: 2.2em;
       text-align: center;
       margin-bottom: 20px;
     }
 
     .input-section {
       text-align: center;
       margin-bottom: 40px;
       font-size: 1.2em;
     }
 
     input, button {
       padding: 12px 16px;
       font-size: 1em;
       margin-top: 10px;
     }
 
     .container {
       display: flex;
       flex-wrap: wrap;
       justify-content: center;
       gap: 20px;
       align-items: flex-start;
     }
 
     .left-column {
     .left-column, .right-column {
       flex: 1 1 500px;
       max-width: 600px;
     }
 
     .right-column {
       flex: 1 1 500px;
       max-width: 600px;
       position: relative;
     }
 
     .forecast {
       margin-top: 0;
     }
 
     .day {
       background: #222;
       padding: 10px;
       margin-bottom: 10px;
       border-radius: 8px;
     }
 
     .day h3 {
       font-size: 1.4em;
       margin-top: 0;
     }
 
     .day p {
       font-size: 0.95em;
       font-weight: normal;
       margin: 6px 0;
       background: #333;
       padding: 8px 10px;
       border-radius: 6px;
     }
 
     .highlight {
       background-color: #2e7d32 !important;
       color: #b9f6ca;
       font-weight: bold;
     }
 
     .seeing-result {
       font-weight: bold;
     }
 
     .seeing-ideal {
       color: #66ff66;
     }
 
     .seeing-average {
       color: #ffcc66;
     }
 
     .seeing-bad {
       color: #ff6666;
     }
 
     .seeing-ideal { color: #66ff66; }
     .seeing-average { color: #ffcc66; }
     .seeing-bad { color: #ff6666; }
     img.icon {
       vertical-align: middle;
       height: 40px;
     }
 
     #map {
       width: 100%;
       height: 450px;
       border-radius: 8px;
       transition: margin-top 0.3s ease;
     }
 
     canvas {
       width: 100% !important;
       height: 450px !important;
 @@ -118,17 +87,14 @@
       margin-top: 20px;
     }
   </style>
   <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
 </head>
 <body>
   <h1>ğŸŒ  AstronomickÃ¡ PÅ™edpovÄ›Ä</h1>
 
   <div class="input-section">
     <label for="city">Zadejte mÄ›sto:</label><br/>
     <input type="text" id="city" placeholder="napÅ™. Praha">
     <button id="forecastButton">Zobrazit aktuÃ¡lnÃ­ pÅ™edpovÄ›Ä</button>
   </div>
 
   <div class="container">
     <div class="left-column">
       <div id="forecast" class="forecast"></div>
 @@ -138,22 +104,19 @@ <h1>ğŸŒ  AstronomickÃ¡ PÅ™edpovÄ›Ä</h1>
       <canvas id="moonChart" width="600" height="450"></canvas>
     </div>
   </div>
 
   <!-- Donate tlaÄÃ­tko -->
   <div style="text-align:center; margin-top: 60px;">
     <p style="margin-bottom: 10px; font-size: 1.1em;">ğŸ’– PodpoÅ™ vÃ½voj tÃ©to aplikace</p>
     <a href="https://www.buymeacoffee.com/TVOJENICK" target="_blank">
       <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="PodpoÅ™ mÄ›" style="height: 50px !important; width: 210px !important;" >
     </a>
   </div>
 
   <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   <script>
     const weatherApiKey = "365461721d8f9f7caa7c1460f8181f3d";
     const moonApiKey = "781aa2d69af74745906e01cc68c84207";
     let map, sunMarker;
     let cachedClouds = null;
     let map, sunMarker, cachedClouds = null;
     let astronomicalTwilight = { begin: "", end: "" };
 
     function seeingQuality(clouds) {
       if (clouds < 15) return { label: "VÃ½jimeÄnÄ› ideÃ¡lnÃ­ podmÃ­nky ğŸŒŒ", class: "seeing-ideal" };
 @@ -165,29 +128,13 @@ <h1>ğŸŒ  AstronomickÃ¡ PÅ™edpovÄ›Ä</h1>
       return clouds < 15 && illumination < 15;
     }
 
     function translateMoonPhase(phase) {
       const phases = {
         "NEW_MOON": "Nov ğŸŒ‘",
         "WAXING_CRESCENT": "DorÅ¯stajÃ­cÃ­ srpek ğŸŒ’",
         "FIRST_QUARTER": "PrvnÃ­ ÄtvrÅ¥ ğŸŒ“",
         "WAXING_GIBBOUS": "DorÅ¯stajÃ­cÃ­ MÄ›sÃ­c ğŸŒ”",
         "FULL_MOON": "ÃšplnÄ›k ğŸŒ•",
         "WANING_GIBBOUS": "CouvajÃ­cÃ­ MÄ›sÃ­c ğŸŒ–",
         "LAST_QUARTER": "PoslednÃ­ ÄtvrÅ¥ ğŸŒ—",
         "WANING_CRESCENT": "UbÃ½vajÃ­cÃ­ srpek ğŸŒ˜"
       };
       return phases[phase] || phase;
     }
 
     async function getCoordinates() {
       const city = document.getElementById("city").value.trim();
       if (!city) return alert("Zadej nÃ¡zev mÄ›sta!");
 
       try {
         const res = await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${city}&limit=1&appid=${weatherApiKey}`);
         const data = await res.json();
         if (!data[0]) return alert("MÄ›sto nenalezeno");
 
         const { lat, lon, name } = data[0];
         loadWeather(lat, lon, name);
         getMoonPhase(lat, lon);
 @@ -202,45 +149,37 @@ <h1>ğŸŒ  AstronomickÃ¡ PÅ™edpovÄ›Ä</h1>
       try {
         const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${weatherApiKey}&units=metric&lang=cz`);
         const data = await res.json();
 
         const forecastEl = document.getElementById("forecast");
         forecastEl.innerHTML = `<h2>PÅ™edpovÄ›Ä pro ${name}</h2>`;
 
         const weather = data.weather[0].description;
         const icon = data.weather[0].icon;
         const temperature = data.main.temp;
         const clouds = data.clouds.all;
         cachedClouds = clouds;
 
         const seeing = seeingQuality(clouds);
         const sunrise = new Date(data.sys.sunrise * 1000).toLocaleTimeString("cs-CZ", { hour: '2-digit', minute: '2-digit' });
         const sunset = new Date(data.sys.sunset * 1000).toLocaleTimeString("cs-CZ", { hour: '2-digit', minute: '2-digit' });
 
         forecastEl.innerHTML += `
         const forecastEl = document.getElementById("forecast");
         forecastEl.innerHTML = `<h2>PÅ™edpovÄ›Ä pro ${name}</h2>
           <div class="day">
             <h3>ğŸŒ€ AktuÃ¡lnÃ­ poÄasÃ­</h3>
             <p>ğŸŒ¤ï¸ <strong>PoÄasÃ­:</strong> ${weather} <img class="icon" src="https://openweathermap.org/img/wn/${icon}@2x.png" alt="${weather}"></p>
             <p>ğŸŒ¡ï¸ <strong>Teplota:</strong> ${temperature}Â°C</p>
             <p>â˜ï¸ <strong>OblaÄnost:</strong> ${clouds}%</p>
           </div>
 
           <div id="seeingBlock" class="day">
             <h3>ğŸ”­ Seeing</h3>
             <p class="seeing-result ${seeing.class}">ğŸ‘ï¸ <strong>${seeing.label}</strong></p>
           </div>
 
           <div class="day">
             <h3>â˜€ï¸ Slunce</h3>
             <p>ğŸŒ… <strong>VÃ½chod slunce:</strong> ${sunrise}</p>
             <p>ğŸŒ‡ <strong>ZÃ¡pad slunce:</strong> ${sunset}</p>
             <p>ğŸ•¯ï¸ <strong>ZaÄÃ¡tek tmy:</strong> ${astronomicalTwilight.end}</p>
             <p>ğŸŒ… <strong>Konec tmy:</strong> ${astronomicalTwilight.begin}</p>
           </div>
 
           <div class="day">
             <h3>ğŸŒ• MÄ›sÃ­c</h3>
             <div id="moonInfo"></div>
           </div>
         `;
 
           </div>`;
         alignMapToFirstDay();
       } catch (error) {
         alert("Chyba pÅ™i naÄÃ­tÃ¡nÃ­ poÄasÃ­.");
 @@ -252,25 +191,19 @@ <h3>ğŸŒ• MÄ›sÃ­c</h3>
       try {
         const res = await fetch(`https://api.ipgeolocation.io/astronomy?apiKey=${moonApiKey}&lat=${lat}&long=${lon}`);
         const data = await res.json();
         astronomicalTwilight.begin = data.astronomical_twilight_begin;
         astronomicalTwilight.end = data.astronomical_twilight_end;
         const moonInfo = document.getElementById("moonInfo");
 
         const rawPhase = data.moon_phase;
         const translatedPhase = translateMoonPhase(rawPhase);
         const illumination = Math.max(0, parseFloat(data.moon_illumination_percentage)) || 0;
 
         moonInfo.innerHTML = `
           <p>ğŸŒ˜ <strong>FÃ¡ze MÄ›sÃ­ce:</strong> ${translatedPhase}</p>
           <p>ğŸŒ˜ <strong>FÃ¡ze MÄ›sÃ­ce:</strong> ${data.moon_phase}</p>
           <p>ğŸ’¡ <strong>OsvÄ›tlenÃ­ MÄ›sÃ­ce:</strong> ${illumination} %</p>
           <p>ğŸ“ <strong>VzdÃ¡lenost od ZemÄ›:</strong> ${data.moon_distance} km</p>
           <p>ğŸŒ™ <strong>VÃ½chod MÄ›sÃ­ce:</strong> ${data.moonrise}</p>
           <p>ğŸŒ’ <strong>ZÃ¡pad MÄ›sÃ­ce:</strong> ${data.moonset}</p>
         `;
 
         const seeingBlock = document.getElementById("seeingBlock");
           <p>ğŸŒ’ <strong>ZÃ¡pad MÄ›sÃ­ce:</strong> ${data.moonset}</p>`;
         if (cachedClouds !== null && idealConditions(cachedClouds, illumination)) {
           seeingBlock.innerHTML += `<p class="highlight">âœ… VÃ½jimeÄnÄ› ideÃ¡lnÃ­ podmÃ­nky pro pozorovÃ¡nÃ­!</p>`;
           document.getElementById("seeingBlock").innerHTML += `<p class="highlight">âœ… VÃ½jimeÄnÄ› ideÃ¡lnÃ­ podmÃ­nky pro pozorovÃ¡nÃ­!</p>`;
         }
 
         drawIlluminationChart([illumination - 15, illumination - 10, illumination - 5, illumination, illumination - 3, illumination + 2, illumination]);
       } catch (error) {
         console.error("Chyba pÅ™i naÄÃ­tÃ¡nÃ­ MÄ›sÃ­ce:", error);
 @@ -316,7 +249,6 @@ <h3>ğŸŒ• MÄ›sÃ­c</h3>
     function alignMapToFirstDay() {
       const firstDay = document.querySelector(".left-column .day");
       const mapEl = document.getElementById("map");
 
       if (firstDay && mapEl) {
         const leftTop = firstDay.getBoundingClientRect().top;
         const rightTop = document.querySelector(".right-column").getBoundingClientRect().top;
